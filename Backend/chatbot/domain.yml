version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - faq:
      use_entities: []
  - consultar_pedido
  - hablar_humano
  - agradecer
  - ayuda

entities:
  - pedido_id
  - categoria_faq

slots:
  pedido_id:
    type: text
    mappings:
      - type: from_entity
        entity: pedido_id

  cliente_id:
    type: text
    mappings:
      - type: custom

  session_id:
    type: text
    mappings:
      - type: custom

  requested_slot:
    type: text
    mappings:
      - type: custom

responses:
  utter_greet:
    - text: "Â¡Hola! ğŸ‘‹ Soy el asistente virtual. Â¿En quÃ© puedo ayudarte hoy?"
    - text: "Â¡Bienvenido/a! Estoy aquÃ­ para ayudarte con tus consultas."

  utter_goodbye:
    - text: "Â¡Hasta pronto! Si necesitas algo mÃ¡s, aquÃ­ estarÃ©. ğŸ˜Š"
    - text: "Â¡Que tengas un excelente dÃ­a! Vuelve cuando quieras."

  utter_ayuda:
    - text: |
        Puedo ayudarte con:

        ğŸ“¦ **EnvÃ­os y entregas** - Tiempos, costos, seguimiento
        ğŸ’³ **Medios de pago** - Formas de pago aceptadas
        ğŸ”„ **Cambios y devoluciones** - PolÃ­tica de cambios
        ğŸ“¦ **Estado de pedido** - Consulta tu orden
        ğŸ‘¤ **Hablar con un humano** - Crear ticket de soporte

        Â¿Con quÃ© te ayudo?

  utter_bot_challenge:
    - text: "Soy un bot asistente creado para ayudarte con tus consultas. ğŸ¤–"

  utter_agradecer:
    - text: "Â¡De nada! Siempre es un placer ayudar. ğŸ˜Š"
    - text: "Â¡Para eso estoy! Â¿Necesitas algo mÃ¡s?"

  utter_iamabot:
    - text: "Soy un asistente virtual automatizado."

  utter_default:
    - text: "Disculpa, no entendÃ­ bien tu pregunta. Â¿Puedes reformularla?"
    - text: "No estoy seguro de entender. Â¿PodrÃ­as ser mÃ¡s especÃ­fico?"

  utter_pedir_pedido_id:
    - text: "Por favor, indÃ­came tu nÃºmero de pedido (lo encuentras en tu email de confirmaciÃ³n)."

  utter_pedido_no_encontrado:
    - text: "No encontrÃ© un pedido con ese nÃºmero. Verifica que estÃ© correcto o contÃ¡ctanos para mÃ¡s ayuda."

  utter_escalar_ticket:
    - text: "Entendido, voy a crear un ticket para que uno de nuestros agentes te contacte pronto."

  utter_ticket_creado:
    - text: "âœ… Tu ticket ha sido creado exitosamente. Un agente te contactarÃ¡ dentro de las prÃ³ximas 24 horas."

actions:
  - action_buscar_faq
  - action_consultar_pedido
  - action_crear_ticket
  - action_guardar_conversacion
  - action_default_fallback

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
